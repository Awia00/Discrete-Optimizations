% !TeX spellcheck=en_GB
\section{Theoretical part - formulation and lower bounds}
Given a complete directed graph $G = (V,E),c$ with $|V| = n$ where $c_{ij}$ is the cost of the edge from vertex $i$ to vertex $j$, the asymmetric travelling salesman problem is to find a minimum cost Hamiltonian tour of G.

The subtour integer linear programming formulation for the travelling salesman as defined in the assignment:
\[ 
x_{ij} =
\left \{
  \begin{tabular}{cc}
  1, & if edge (i,j) is included\\
  0, & otherwise 
  \end{tabular}
\right .
\]

\begin{alignat*}{4}
\text{max: }    & \sum_{i,j \in V} c_{ij} x_{ij}\\
\text{s.t }     & \sum_{i \in V, i \neq j} x_{ij} = 1  && \text{ for } j \in V && (1)\\
                & \sum_{j \in V, j \neq i} x_{ij} = 1  && \text{ for } i \in V && (2)\\
                & \sum_{i,j \in S} x_{ij} \leq |S| - 1 && \text{ for } S \subset V \text{ such that } 2 \leq |S| \leq n - 2 \quad && (3)\\
                & x_{ij} \in \{0,1\} && && (4)
\end{alignat*}

\subsection{} % 1.1
In this proof we do not need to take into consideration the objective function or the cost of a Hamiltonian tour since these do not affect the feasibility of a solution.

First we prove that any feasible solution will satisfy the above constraints. Constraint $(1)$ requires that all vertices in $G$ must have exactly one incoming edge. All vertices in a Hamiltonian tour will satisfy this. Constraint $(2)$ requires that all vertices in $G$ must have exactly one outgoing edge. All vertices in a Hamiltonian tour will satisfy this. These constraints in combination requires that there can only exist cycles in $G$ and that every vertex is part of exactly one cycle. A Hamiltonian tour is the special case of graphs with cycles where only one cycle exists which visits every vertex of the graph, hence it naturally satisfies the constraints. Constraint $(3)$ requires a solution to, for all proper subset $S_k $ of $V$ such that $2 \leq |S| \leq |V| - 2$ to have less edges than vertices. Note that a cycle visiting $k$ vertices must have $k$ edges. Therefore the constraint requires that no cycles exist in all graphs induced by all proper subsets of $V$. For all graphs induced by all proper subsets of the vertices of a Hamiltonian tour there exists no cycles. Therefore any feasible solution also satisfies this constraint. Constraint $(4)$ is naturally satisfied since a feasible solution does not have a concept of partially traversing edges. This concludes the first part of the proof.


Now we need to prove that any solution satisfying the constraints is also a feasible solution. 

Constraints $(2)$ and  $(3)$ are trivial in the sense that they still require each vertex to have exactly two edges incident to them as a feasible solution should have. Now that any solution requires each vertex to have two incident edges, two situations can occur, either we have a Hamiltonian tour and the solution is feasible or we have multiple smaller cycles. As described before cycle must have as many edges as vertices. Constraint $(4)$ limits the solution to not have any cycles for any proper subset of $S$ since the number of edges has to be strictly lower than the size of the solution. Therefore a cycle can only exist for the entire graph and if it does so we have a Hamiltonian tour. This concludes our proof.

\subsection{}  % 1.2
First we calculate the size of $S \subset V \text{ such that } |S| \leq n - 2$. This amount to picking every subset of size $n-2$ out of $n$. Secondly we subtract any subset of size $1$ which naturally is $n$. This gives the following size $\frac{n!}{(n-2)! (n - (n-2))!}-n = \frac{n!}{2 (n-2)!}-n$. Hence there are exponentially many constraints of this type. 


\subsection{} % 1.3

The compact formulation is as follows:

\begin{alignat}{3}
	\text{max: }    & \sum_{i,j \in V} c_{ij} x_{ij}\\
	\text{s.t }     & \sum_{i \in V, i \neq j} x_{ij} = 1  && \text{ for } j \in V\\
	& \sum_{j \in V, j \neq i} x_{ij} = 1  && \text{ for } i \in V\\
	& t_j \geq t_i + 1-n(1-x_{ij})  && \text{ for } i \in V, j \in V \setminus \{1\}\\
	& x_{ij} \in \{0,1\} \\
	& t_i \in \mathbb{R}_+ 
\end{alignat}

The constraint runs over two variables, $i,j$ which can have $n$ and $n-1$ different values respectively. Therefore there are $n(n-1) = n^2-n$ many constraints. Hence there are polynomial many constraints of this type.

\subsection{} % 1.4
The constraints of the sub tour formulation might provide for a better branching decision in a branch and bound scenario and further more the constraints might be restricting more to integer solutions, so branch and cut might not as necessary. \todo{need to think more on this}

\subsection{} % 1.5
Consider the minimum cost Hamiltonian tour, it goes through vertex $1$. Vertex $1$ has exactly two edges incident to it, if we remove one of them, creating a path, the solution is a tree with $1$ as root covering every vertex in $V$. Since the lower bound algorithm finds a minimum cost tree the cost will be lower than or equal to the tree of the optimal solution. If the removed edge from the Hamiltonian tour is the edge with the lowest cost connecting vertex $1$ to the tree, then the lower bound algorithm would also pick it. If there exists an edge with lower cost than the removed edge connecting vertex $1$ to the tree, then the algorithm will pick the cheaper and therefore still  provide a lower bound to the hamiltonian tour. This concludes the proof. \todo{could spend more time on this}

\section{Implementation part - branch-and-bound}
\subsection{}
A simple heuristic could be to continuously pick edges with minimum cost while not violating the requirement that the solution must be a Hamiltonian tour.

\subsection{}

\subsection{}